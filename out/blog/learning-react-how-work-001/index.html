<!DOCTYPE html><html lang="ja" class="undefined"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/120a5a1920781bd0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/3636e57fe7ff2815-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/594eca9c741c3eb4-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/735b8c200a84cbc8-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/ad7cafd13ae48d8c-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/bf4ebba7b37c6105-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/c1913b342b386bad-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/c43ff847a9634460-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/c57b352c11aa4b1e-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/f2cb3bad42c76b5e-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/eaecd205a1d02809.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/a1b8f1c88bfe407d.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/6d9fc8420fac34dd.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/dee53c710ab47b61.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/0a8f3c37f99a38f0.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/cb66cb7879a19bbb.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/945c42ba0ed2b94d.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/e942ac36b8c6ec6b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f808a6ce21d0393d.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/00ffdb3dc3fc6595.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/dea7ae0698ffaba9.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ef465cddea94a006.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/7ac57b20459908fc.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/16d8c057f208fab8.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/3547c22b45876d5b.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-031934d7c24eaea3.js"/><script src="/_next/static/chunks/fd9d1056-72a61a02e103bffe.js" async=""></script><script src="/_next/static/chunks/23-b5c6c089950465ed.js" async=""></script><script src="/_next/static/chunks/main-app-cc2297998ff34851.js" async=""></script><script src="/_next/static/chunks/231-e88dbe5c4337f276.js" async=""></script><script src="/_next/static/chunks/app/(base)/blog/%5Bslug%5D/page-c3e649e5ad3cf649.js" async=""></script><script src="/_next/static/chunks/656-59f95fbbde9cb6e0.js" async=""></script><script src="/_next/static/chunks/173-ffbd5d04ff5fdaa5.js" async=""></script><script src="/_next/static/chunks/app/(uni-lab)/layout-bc2e46b83f11fdbe.js" async=""></script><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="_layout_body__Ry_X2 __className_1b1067"><div class="Header_root__b6LHY"><div class="Header_inner__rSyT_"><div class="Header_backhome___no63"><a class="HomeIcon_root__e5ZgV" href="/"><div class="HomeIcon_inner__uIKo6"></div></a></div><div class="Header_navs__MOIHF"><div class="GlobalNav_root__MY4jM"><a class="GlobalNav_nav__9q44_ __className_6bdb93" href="/works/">Works.</a><a class="GlobalNav_nav__9q44_ __className_6bdb93" href="/blog/">Blog.</a><a class="GlobalNav_nav__9q44_ __className_6bdb93" href="/about/">TalkMe!</a><a class="SpecialButton_root__Qs3Da undefined" href="/uni-lab/"><div class="SpecialButton_text__I6EFb __className_6bdb93">Uni Lab.</div><div class="SpecialButton_arrow__Yh2h8"><svg class="SpecialButton_svg__wxCUL" width="9" height="15" viewBox="0 0 9 15" xmlns="http://www.w3.org/2000/svg"><path d="M9 7.50022L0.75 14.613L0.75 0.387458L9 7.50022Z" fill="white"></path></svg></div></a></div></div></div></div><div class="_layout_container__7wkYi"><div class="ArticleHead_root__L1n1V"><div class="ArticleHead_thumbnail__1lpX1"><div class="EmojiIcon_root__S4m4O">🐕</div></div><h1 class="ArticleHead_head__IBrwC [object Object]">React学習:仕組み編｜JSXがレンダリングされるまで〜最小限の構成で仕組み理解（なんとなく理解禁止シリーズ）</h1><div class="ArticleHead_info__ux4SN"><div><div class="UpdateDate_root__DTa6J"><div class="UpdateDate_icon__5bcpN"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="white" d="M403.925,108.102c-27.595-27.595-62.899-47.558-102.459-56.29L304.182,0L201.946,53.867l-27.306,14.454 l-5.066,2.654l8.076,4.331l38.16,20.542l81.029,43.602l2.277-42.859c28.265,7.546,53.438,22.53,73.623,42.638 c29.94,29.939,48.358,71.119,48.358,116.776c0,23.407-4.843,45.58-13.575,65.687l40.37,17.532 c11.076-25.463,17.242-53.637,17.242-83.219C465.212,198.306,441.727,145.904,403.925,108.102z"></path><path fill="white" d="M296.256,416.151l-81.101-43.612l-2.272,42.869c-28.26-7.555-53.51-22.53-73.618-42.636 c-29.945-29.95-48.364-71.12-48.364-116.767c0-23.427,4.844-45.522,13.576-65.697l-40.37-17.531 c-11.076,25.53-17.242,53.723-17.242,83.228c0,57.679,23.407,110.157,61.21,147.893c27.595,27.594,62.899,47.548,102.453,56.202 l-2.716,51.9l102.169-53.878l27.455-14.454l4.988-2.643l-7.999-4.332L296.256,416.151z"></path></svg></div><span class="UpdateDate_text__qw_77">2024年08月18日</span></div></div><div><ul class="Categorys_root__pGks1"><div class="Category_root__QLnRI">React学習記録｜なんとなく理解禁止シリーズ</div></ul></div></div></div><div class="_slug__contents__tliD3"><div class="BlogTemplate_root__1v2_7"><main class="_slug__main__Lje2N"><div class="BlogTemplate_main__lG7yD"><p>JSXがどのように変換されて最終的に画面上に表示されるか、最小限の構成をその仕組みを学習してみたので、書き残しておきます。</p>
<p>「この記述はなんとなくこうなっているのだろう...」という曖昧な理解のまま放置しておかないように「なんとなく理解禁止」というシリーズでJavaScriptやReactの学習記録を残していて、誰か1人にでも参考になれば嬉しいです...！</p>
<h2>JSXとは</h2>
<p>JSX（JavaScript XML）とは、HTMLのような書き方でJavaScriptソースを記述できるようにした Meta（旧Facebook）が開発した構文です。</p>
<p>例えば、下記のようにシンプルな見出し要素を記述できます。</p>
<pre><code class="language-javascript">const component = &lt;h1&gt;Hello&lt;/h1&gt;;
</code></pre>
<p>これはHTMLではなく、全てJavaScriptのソースです。下記のようにJavaScriptのコードを実行するための印（中括弧{}）の中に、計算結果を書くこともできます。</p>
<pre><code class="language-javascript">const myname = &#x27;Tsukasa&#x27;;
const component = &lt;h1&gt;Hello {name}!&lt;/h1&gt;;
// componentが出力するHTML結果：&lt;h1&gt;Hello Tsukasa!&lt;/h1&gt;
</code></pre>
<h2>JSXがReact要素に変換されてレンダリングされるまでの流れ</h2>
<p>実際、全然ややこしくなくって、下記の記述だけでH1タグでHello Worldを画面上に表示できます。</p>
<pre><code class="language-html">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
</code></pre>
<pre><code class="language-javascript">const root = createRoot(document.getElementById(&#x27;app&#x27;));
root.render(&lt;h1&gt;Hello, world!&lt;/h1&gt;);
</code></pre>
<p>上記の記述を2つに因数分解すると、ざっと下記の流れになります。</p>
<ul>
<li>babel等を使ってJSX構文をReact要素に変換</li>
<li>createRootのrenderメソッドでReact要素をHTMLに挿入</li>
</ul>
<h3>① babel等を使ってJSXをReact要素に変換</h3>
<pre><code class="language-javascript">const component = &lt;h1&gt;Hello, world!&lt;/h1&gt;;
</code></pre>
<p>上記のようなJSXで書いた構文をbabel等のコンパイラを使って、下記のようなJavaScriptコードに変換されます。</p>
<pre><code class="language-javascript">const component = React.createElement(&quot;h1&quot;, null, &quot;Hello, world!&quot;);
</code></pre>
<p>前者と後者の実行結果は同じで、JSXは<code>React.createElement()</code>の記述のシンタックスシュガーということになります。このJavaScriptの形式に変換された後のオブジェクトがReact要素となります。</p>
<p><a href="https://wa3.i-3-i.info/word15703.html">シンタックスシュガー（英：syntax sugar）とは｜「分かりそう」で「分からない」でも「分かった」気になれるIT用語辞典</a></p>
<h3>② createRoot().renderメソッドでReact要素をHTMLに挿入</h3>
<p>あとは簡単で、React要素に変換したJavaScriptオブジェクトを材料に、createRoot().renderメソッドで対象箇所にHTMLを挿入します。</p>
<pre><code class="language-html">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
</code></pre>
<pre><code class="language-javascript">// HTMLを挿入するルートを特定
const root = createRoot(document.getElementById(&#x27;app&#x27;));
// renderメソッドを使ってReact要素をルートに挿入
root.render(React.createElement(&quot;h1&quot;, null, &quot;Hello, world!&quot;));
</code></pre>
<p>初めは下記のようにrenderメソッドの引数に直接JSX構文を書いていましたが、上記のコードでも下記でも実行結果は同じです。</p>
<pre><code class="language-javascript">const root = createRoot(document.getElementById(&#x27;app&#x27;));
root.render(&lt;h1&gt;Hello, world!&lt;/h1&gt;);
</code></pre>
<p>内部的に、<code>&lt;h1&gt;Hello, world!&lt;/h1&gt;</code>というJSX構文を<code>React.createElement()</code>に変換していた訳です。</p>
<h3>補足</h3>
<p>ちなみに、<code>React.createElement()</code>の戻り値をコンソールで確認すると、下記のようなオブジェクトを確認できます。</p>
<pre><code class="language-javascript">▼object
$$typeof: Symbol(react.element)
key: null
props: {children: &#x27;Hello, world!&#x27;}
ref: null
type: &quot;h1&quot;
_owner: null
</code></pre>
<p><code>React.createElement()</code>の3つの引数が代入されていて...</p>
<ul>
<li><code>React.createElement()</code>の第一引数が<code>type</code>（HTMLタグ）</li>
<li><code>React.createElement()</code>の第二引数が<code>props</code>（属性値）</li>
<li><code>React.createElement()</code>の第三引数が<code>props.children</code>（コンポーネントの子要素）</li>
</ul>
<p>といった形で割り当てられて、このオブジェクトを使ってHTMLタグを作って挿入しているイメージになります。</p>
<p>余談ですが、こうして一つひとつ理解していくとJSXは結局ただのJavaScriptのオブジェクトだという事が分かります。JSX構文と<code>React.createElement()</code>は書き方が違うだけで機能的には同じで、<code>React.createElement()</code>が返すのは普通のJavaScriptなので、JSXは色々変換された結果、最終的にはJavaScriptのオブジェクトとなります。</p>
<h2>【実践！】実際にJSXがレンダリングされるまでの流れを最小限の構成で試してみる</h2>
<p>下記が今回の最小限の構成です。</p>
<pre><code class="language-bash">dist/
├── assets/
└── index.html
src/
├── index.html
└── main.js
babel.config.json
package.json
vite.config.js
</code></pre>
<p>扱っている環境やツールは下記の通り。</p>
<ul>
<li>vite（reactファイルのバンドルのためだけに使用）</li>
<li>babel（JSXからReact要素へのコンパイルのために使用）</li>
<li>yarn（パッケージマネージャー、もちろんnpmでもOK）</li>
</ul>
<p>学習のためにこのような環境にしましたが、普通はNext.jsやRemix等のReactセットアップコマンドやViteのReactテンプレートのセットアップコマンドを叩けば簡単にReactを試せます。</p>
<ul>
<li><a href="https://ja.react.dev/learn/start-a-new-react-project">React プロジェクトを始める</a></li>
<li><a href="https://ja.vitejs.dev/guide/">Viteガイド はじめに</a></li>
</ul>
<h3>1/2｜Viteでバンドルするための環境を整える</h3>
<p>Reactテンプレートのセットアップコマンド（<code>yarn create vite my-vue-app --template react</code>）を使うと、.jsx の拡張子にJSX構文を書けば、仕組みが分からずとも勝手にレンダリングされてしまうので、下記のようにVanillaを選択してフラットな環境にします。</p>
<pre><code class="language-bash">yarn create vite
# Select a framework:
# Vanillaを選択
# Select a variant:
# JavaScriptを選択
cd vite-project
</code></pre>
<p>説明に不要なファイルは省きますが、下記のような構成になります。</p>
<pre><code class="language-bash">vite-project/
├── counter.js
├── index.html
├── main.js
└── package.json
</code></pre>
<p>これで<code>yarn build</code>を叩けば、<code>index.html</code>をエントリーポイントにして<code>main.js</code>のバンドルもした上でプロジェクトルートに<code>dist</code>が吐き出されます。</p>
<h3>2/2｜JSX構文をReact要素に変換するためのbabel環境を整える</h3>
<p>babelの最小限のセットアップ方法は公式ガイドを参照すれば理解できます。</p>
<p><a href="https://babeljs.io/docs/">What is Babel?｜BABEL</a></p>
<pre><code class="language-bash"># 必要なパッケージをインストール
yarn add --dev @babel/core @babel/cli @babel/preset-react
</code></pre>
<pre><code class="language-json">// babel.config.json
// babelの設定ファイルをプロジェクトルートに設置
{
  &quot;presets&quot;: [
    &quot;@babel/preset-react&quot;
  ]
}
</code></pre>
<pre><code class="language-json">// package.json
// package.jsonのscripts.buildにviteも含めたコマンドを設定
{
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;vite&quot;,
    &quot;build&quot;: &quot;./node_modules/.bin/babel ./src/main.js --out-file ./src/main.babel.js &amp;&amp; vite build&quot;,
    &quot;preview&quot;: &quot;vite preview&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;@babel/cli&quot;: &quot;^7.24.8&quot;,
    &quot;@babel/core&quot;: &quot;^7.25.2&quot;,
    &quot;@babel/preset-env&quot;: &quot;^7.25.3&quot;,
    &quot;@babel/preset-react&quot;: &quot;^7.24.7&quot;,
    &quot;vite&quot;: &quot;^5.4.0&quot;
  },
  &quot;dependencies&quot;: {
    &quot;react&quot;: &quot;^18.3.1&quot;,
    &quot;react-dom&quot;: &quot;^18.3.1&quot;
  }
}
</code></pre>
<p><code>./node_modules/.bin/babel ./src/main.js --out-file ./src/main.babel.js</code>の記述が、babelを使って<code>./src/main.js</code>を<code>./src/main.babel.js</code>に吐き出すコマンドになります。</p>
<p>babel実行前の<code>./src/main.js</code>と実行後の<code>./src/main.babel.js</code>は下記の通り。</p>
<pre><code class="language-javascript">// ./src/main.js
import &#x27;./style.css&#x27;
import ReactDOM from &#x27;react-dom&#x27;;
import React from &#x27;react&#x27;;
import { createRoot } from &#x27;react-dom/client&#x27;;

const root = createRoot(document.getElementById(&#x27;app&#x27;));
root.render(&lt;h1&gt;Hello&lt;/h1&gt;);
</code></pre>
<pre><code class="language-javascript">// ./src/main.babel.js
import &#x27;./style.css&#x27;;
import ReactDOM from &#x27;react-dom&#x27;;
import React from &#x27;react&#x27;;
import { createRoot } from &#x27;react-dom/client&#x27;;
const root = createRoot(document.getElementById(&#x27;app&#x27;));
root.render( /*#__PURE__*/React.createElement(&quot;h1&quot;, null, &quot;Hello&quot;));
</code></pre>
<p><code>root.render()</code>の引数が<code>&lt;h1&gt;Hello&lt;/h1&gt;</code>のJSX構文から<code>React.createElement(&quot;h1&quot;, null, &quot;Hello&quot;)</code>のReact要素に変換されているのが分かります。</p>
<p>あとは、後続の<code>vite build</code>コマンドによって、<code>src/index.html</code>で挿入している<code>&lt;script src=&quot;./main.babel.js&quot; type=&quot;module&quot;&gt;&lt;/script&gt;</code>を読んで、<code>main.babel.js</code>のインポートされているパッケージを全てバンドルしてくれます。</p>
<pre><code class="language-html">&lt;!-- src/index.html --&gt;
&lt;!doctype html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot; /&gt;
    &lt;link rel=&quot;icon&quot; type=&quot;image/svg+xml&quot; href=&quot;/vite.svg&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
    &lt;title&gt;Vite App&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
    &lt;script src=&quot;./main.babel.js&quot; type=&quot;module&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="language-html">&lt;!-- dist/index.html --&gt;
&lt;!doctype html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot; /&gt;
    &lt;link rel=&quot;icon&quot; type=&quot;image/svg+xml&quot; href=&quot;/vite.svg&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
    &lt;title&gt;Vite App&lt;/title&gt;
    &lt;script type=&quot;module&quot; crossorigin src=&quot;./assets/index-CTqbuTW-.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; crossorigin href=&quot;./assets/index-BfibREyH.css&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;!-- ./assets/index-CTqbuTW-.jsによって&lt;h1&gt;Hello&lt;/h1&gt;が挿入される --&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
</div></main><nav class="BlogTemplate_nav__4DMiI"><div class="BlogSidebar_root__uw15U"><div class="BlogSidebar_pickup__vOFcW"><h3 class="Heading_root__8C_HZ Heading_border__cET98 Heading_small__z92ds __className_6bdb93">Pickup Contents.</h3><div class="PickupArticles_rootInline__zSCZ9"><a href="/blog/learning-react-how-work-001/">React学習:仕組み編｜JSXがレンダリングされるまで〜最小限の構成で仕組み理解（なんとなく理解禁止シリーズ）</a></div></div><div class="BlogSidebar_categorys__HAy9v"><h3 class="Heading_root__8C_HZ Heading_border__cET98 Heading_small__z92ds __className_6bdb93">Categorys.</h3><ul class="CategoryLinks_root__f8qHI"><li><a href="/blog/blog-category/learning-react/">React学習記録｜なんとなく理解禁止シリーズ</a></li><li><a href="/blog/blog-category/thoughts-work/">【備忘録】仕事と向き合う</a></li><li><a href="/blog/blog-category/learning-webgl/">WebGL研究</a></li><li><a href="/blog/blog-category/learning-javascript/">JavaScript学習記録｜なんとなく理解禁止シリーズ</a></li></ul></div></div></nav></div></div></div><div class="Footer_root__F7X95"><small class="Footer_copyright__nD8jL __className_dc46c1">PORTFOLIO SITE. | COPYRIGHT © TSUKASA TOMIOKA ALL RIGHTS RESERVED.</small></div><div class="_layout_globalBg__0AsUB"></div><script src="/_next/static/chunks/webpack-031934d7c24eaea3.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/120a5a1920781bd0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/3636e57fe7ff2815-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/594eca9c741c3eb4-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/media/735b8c200a84cbc8-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n5:HL[\"/_next/static/media/ad7cafd13ae48d8c-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/media/bf4ebba7b37c6105-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n7:HL[\"/_next/static/media/c1913b342b386bad-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n8:HL[\"/_next/static/media/c43ff847a9634460-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n9:HL[\"/_next/static/media/c57b352c11aa4b1e-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\na:HL[\"/_next/static/media/f2cb3bad42c76b5e-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\nb:HL[\"/_next/static/css/eaecd205a1d02809.css\",\"style\"]\nc:HL[\"/_next/static/css/a1b8f1c88bfe407d.css\",\"style\"]\nd:HL[\"/_next/static/css/6d9fc8420fac34dd.css\",\"style\"]\ne:HL[\"/_next/static/css/dee53c710ab47b61.css\",\"style\"]\nf:HL[\"/_next/static/css/0a8f3c37f99a38f0.css\",\"style\"]\n10:HL[\"/_next/static/css/cb66cb7879a19bbb.css\",\"style\"]\n11:HL[\"/_next/static/css/945c42ba0ed2b94d.css\",\"style\"]\n12:HL[\"/_next/static/css/e942ac36b8c6ec6b.css\",\"style\"]\n13:HL[\"/_next/static/css/f808a6ce21d0393d.css\",\"style\"]\n14:HL[\"/_next/static/css/00ffdb3dc3fc6595.css\",\"style\"]\n15:HL[\"/_next/static/css/dea7ae0698ffaba9.css\",\"style\"]\n16:HL[\"/_next/static/css/ef465cddea94a006.css\",\"style\"]\n17:HL[\"/_next/static/css/7ac57b20459908fc.css\",\"style\"]\n18:HL[\"/_next/static/css/16d8c057f208fab8.css\",\"style\"]\n19:HL[\"/_next/static/css/3547c22b45876d5b.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"1a:I[5751,[],\"\"]\n1d:I[9275,[],\"\"]\n1f:I[1343,[],\"\"]\n20:I[231,[\"231\",\"static/chunks/231-e88dbe5c4337f276.js\",\"274\",\"static/chunks/app/(base)/blog/%5Bslug%5D/page-c3e649e5ad3cf649.js\"],\"\"]\n22:I[2276,[\"231\",\"static/chunks/231-e88dbe5c4337f276.js\",\"656\",\"static/chunks/656-59f95fbbde9cb6e0.js\",\"173\",\"static/chunks/173-ffbd5d04ff5fdaa5.js\",\"751\",\"static/chunks/app/(uni-lab)/layout-bc2e46b83f11fdbe.js\"],\"default\"]\n28:I[6130,[],\"\"]\n1e:[\"slug\",\"learning-react-how-work-001\",\"d\"]\n23:{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"}\n24:{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"}\n25:{\"display\":\"inline-block\"}\n26:{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0}\n29:[]\n"])</script><script>self.__next_f.push([1,"0:[null,[\"$\",\"$L1a\",null,{\"buildId\":\"p9SLSWlzEI2i8DwdmDo_-\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/blog/learning-react-how-work-001/\",\"initialTree\":[\"\",{\"children\":[\"(base)\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"learning-react-how-work-001\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"learning-react-how-work-001\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true]}],\"initialSeedData\":[\"\",{\"children\":[\"(base)\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"learning-react-how-work-001\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L1b\",\"$L1c\"],null],null]},[\"$\",\"$L1d\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(base)\",\"children\",\"blog\",\"children\",\"$1e\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L1f\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/16d8c057f208fab8.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3547c22b45876d5b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[\"$\",\"$L1d\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(base)\",\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L1f\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"ja\",\"className\":\"undefined\",\"children\":[\"$\",\"body\",null,{\"className\":\"_layout_body__Ry_X2 __className_1b1067\",\"children\":[[\"$\",\"div\",null,{\"className\":\"Header_root__b6LHY\",\"children\":[\"$\",\"div\",null,{\"className\":\"Header_inner__rSyT_\",\"children\":[[\"$\",\"div\",null,{\"className\":\"Header_backhome___no63\",\"children\":[\"$\",\"$L20\",null,{\"href\":\"/\",\"className\":\"HomeIcon_root__e5ZgV\",\"children\":[\"$\",\"div\",null,{\"className\":\"HomeIcon_inner__uIKo6\"}]}]}],[\"$\",\"div\",null,{\"className\":\"Header_navs__MOIHF\",\"children\":[\"$\",\"div\",null,{\"className\":\"GlobalNav_root__MY4jM\",\"children\":[[[\"$\",\"$L20\",\"works\",{\"href\":\"/works/\",\"className\":\"GlobalNav_nav__9q44_ __className_6bdb93\",\"children\":\"Works.\"}],[\"$\",\"$L20\",\"blog\",{\"href\":\"/blog/\",\"className\":\"GlobalNav_nav__9q44_ __className_6bdb93\",\"children\":\"Blog.\"}],[\"$\",\"$L20\",\"about\",{\"href\":\"/about/\",\"className\":\"GlobalNav_nav__9q44_ __className_6bdb93\",\"children\":\"TalkMe!\"}],false],\"$L21\"]}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"_layout_container__7wkYi\",\"children\":[\"$\",\"$L22\",null,{\"children\":[\"$\",\"$L1d\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(base)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L1f\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}],[\"$\",\"div\",null,{\"className\":\"Footer_root__F7X95\",\"children\":[\"$\",\"small\",null,{\"className\":\"Footer_copyright__nD8jL __className_dc46c1\",\"children\":\"PORTFOLIO SITE. | COPYRIGHT © TSUKASA TOMIOKA ALL RIGHTS RESERVED.\"}]}],[\"$\",\"div\",null,{\"className\":\"_layout_globalBg__0AsUB\"}]]}]}],null],null]},[\"$\",\"$L1d\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L1f\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$23\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$24\",\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":\"$25\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$26\",\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/eaecd205a1d02809.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/a1b8f1c88bfe407d.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/6d9fc8420fac34dd.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"3\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/dee53c710ab47b61.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"4\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/0a8f3c37f99a38f0.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"5\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/cb66cb7879a19bbb.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"6\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/945c42ba0ed2b94d.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"7\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/e942ac36b8c6ec6b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"8\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f808a6ce21d0393d.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"9\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/00ffdb3dc3fc6595.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"10\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/dea7ae0698ffaba9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"11\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ef465cddea94a006.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"12\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/7ac57b20459908fc.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L27\"],\"globalErrorComponent\":\"$28\",\"missingSlots\":\"$W29\"}]]\n"])</script><script>self.__next_f.push([1,"21:[\"$\",\"$L20\",null,{\"href\":\"/uni-lab/\",\"className\":\"SpecialButton_root__Qs3Da undefined\",\"children\":[[\"$\",\"div\",null,{\"className\":\"SpecialButton_text__I6EFb __className_6bdb93\",\"children\":\"Uni Lab.\"}],[\"$\",\"div\",null,{\"className\":\"SpecialButton_arrow__Yh2h8\",\"children\":[\"$\",\"svg\",null,{\"className\":\"SpecialButton_svg__wxCUL\",\"width\":\"9\",\"height\":\"15\",\"viewBox\":\"0 0 9 15\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[\"$\",\"path\",null,{\"d\":\"M9 7.50022L0.75 14.613L0.75 0.387458L9 7.50022Z\",\"stroke\":\"$undefined\",\"fill\":\"white\",\"className\":\"$undefined\"}]}]}]]}]\n27:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n1b:null\n"])</script><script>self.__next_f.push([1,"1c:[[\"$\",\"div\",null,{\"className\":\"ArticleHead_root__L1n1V\",\"children\":[[\"$\",\"div\",null,{\"className\":\"ArticleHead_thumbnail__1lpX1\",\"children\":[\"$\",\"div\",null,{\"className\":\"EmojiIcon_root__S4m4O\",\"children\":\"🐕\"}]}],[\"$\",\"h1\",null,{\"className\":\"ArticleHead_head__IBrwC [object Object]\",\"children\":\"React学習:仕組み編｜JSXがレンダリングされるまで〜最小限の構成で仕組み理解（なんとなく理解禁止シリーズ）\"}],[\"$\",\"div\",null,{\"className\":\"ArticleHead_info__ux4SN\",\"children\":[[\"$\",\"div\",null,{\"className\":\"$undefined\",\"children\":[\"$\",\"div\",null,{\"className\":\"UpdateDate_root__DTa6J\",\"children\":[[\"$\",\"div\",null,{\"className\":\"UpdateDate_icon__5bcpN\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"children\":[[\"$\",\"path\",null,{\"fill\":\"white\",\"stroke\":\"$undefined\",\"d\":\"M403.925,108.102c-27.595-27.595-62.899-47.558-102.459-56.29L304.182,0L201.946,53.867l-27.306,14.454 l-5.066,2.654l8.076,4.331l38.16,20.542l81.029,43.602l2.277-42.859c28.265,7.546,53.438,22.53,73.623,42.638 c29.94,29.939,48.358,71.119,48.358,116.776c0,23.407-4.843,45.58-13.575,65.687l40.37,17.532 c11.076-25.463,17.242-53.637,17.242-83.219C465.212,198.306,441.727,145.904,403.925,108.102z\"}],[\"$\",\"path\",null,{\"fill\":\"white\",\"stroke\":\"$undefined\",\"d\":\"M296.256,416.151l-81.101-43.612l-2.272,42.869c-28.26-7.555-53.51-22.53-73.618-42.636 c-29.945-29.95-48.364-71.12-48.364-116.767c0-23.427,4.844-45.522,13.576-65.697l-40.37-17.531 c-11.076,25.53-17.242,53.723-17.242,83.228c0,57.679,23.407,110.157,61.21,147.893c27.595,27.594,62.899,47.548,102.453,56.202 l-2.716,51.9l102.169-53.878l27.455-14.454l4.988-2.643l-7.999-4.332L296.256,416.151z\"}]]}]}],[\"$\",\"span\",null,{\"className\":\"UpdateDate_text__qw_77\",\"children\":\"2024年08月18日\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"$undefined\",\"children\":[\"$\",\"ul\",null,{\"className\":\"Categorys_root__pGks1\",\"children\":[[\"$\",\"div\",null,{\"className\":\"Category_root__QLnRI\",\"children\":\"React学習記録｜なんとなく理解禁止シリーズ\"}]]}]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"_slug__contents__tliD3\",\"children\":[\"$\",\"div\",null,{\"className\":\"BlogTemplate_root__1v2_7\",\"children\":[[\"$\",\"main\",null,{\"className\":\"_slug__main__Lje2N\",\"children\":[\"$\",\"div\",null,{\"className\":\"BlogTemplate_main__lG7yD\",\"children\":[[\"$\",\"p\",\"0\",{\"children\":\"JSXがどのように変換されて最終的に画面上に表示されるか、最小限の構成をその仕組みを学習してみたので、書き残しておきます。\"}],\"\\n\",[\"$\",\"p\",\"2\",{\"children\":\"「この記述はなんとなくこうなっているのだろう...」という曖昧な理解のまま放置しておかないように「なんとなく理解禁止」というシリーズでJavaScriptやReactの学習記録を残していて、誰か1人にでも参考になれば嬉しいです...！\"}],\"\\n\",[\"$\",\"h2\",\"4\",{\"children\":\"JSXとは\"}],\"\\n\",[\"$\",\"p\",\"6\",{\"children\":\"JSX（JavaScript XML）とは、HTMLのような書き方でJavaScriptソースを記述できるようにした Meta（旧Facebook）が開発した構文です。\"}],\"\\n\",[\"$\",\"p\",\"8\",{\"children\":\"例えば、下記のようにシンプルな見出し要素を記述できます。\"}],\"\\n\",[\"$\",\"pre\",\"10\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"const component = \u003ch1\u003eHello\u003c/h1\u003e;\\n\"}]}],\"\\n\",[\"$\",\"p\",\"12\",{\"children\":\"これはHTMLではなく、全てJavaScriptのソースです。下記のようにJavaScriptのコードを実行するための印（中括弧{}）の中に、計算結果を書くこともできます。\"}],\"\\n\",[\"$\",\"pre\",\"14\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"const myname = 'Tsukasa';\\nconst component = \u003ch1\u003eHello {name}!\u003c/h1\u003e;\\n// componentが出力するHTML結果：\u003ch1\u003eHello Tsukasa!\u003c/h1\u003e\\n\"}]}],\"\\n\",[\"$\",\"h2\",\"16\",{\"children\":\"JSXがReact要素に変換されてレンダリングされるまでの流れ\"}],\"\\n\",[\"$\",\"p\",\"18\",{\"children\":\"実際、全然ややこしくなくって、下記の記述だけでH1タグでHello Worldを画面上に表示できます。\"}],\"\\n\",[\"$\",\"pre\",\"20\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cdiv id=\\\"app\\\"\u003e\u003c/div\u003e\\n\"}]}],\"\\n\",[\"$\",\"pre\",\"22\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"const root = createRoot(document.getElementById('app'));\\nroot.render(\u003ch1\u003eHello, world!\u003c/h1\u003e);\\n\"}]}],\"\\n\",[\"$\",\"p\",\"24\",{\"children\":\"上記の記述を2つに因数分解すると、ざっと下記の流れになります。\"}],\"\\n\",[\"$\",\"ul\",\"26\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":\"babel等を使ってJSX構文をReact要素に変換\"}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":\"createRootのrenderメソッドでReact要素をHTMLに挿入\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"28\",{\"children\":\"① babel等を使ってJSXをReact要素に変換\"}],\"\\n\",[\"$\",\"pre\",\"30\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"const component = \u003ch1\u003eHello, world!\u003c/h1\u003e;\\n\"}]}],\"\\n\",[\"$\",\"p\",\"32\",{\"children\":\"上記のようなJSXで書いた構文をbabel等のコンパイラを使って、下記のようなJavaScriptコードに変換されます。\"}],\"\\n\",[\"$\",\"pre\",\"34\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"const component = React.createElement(\\\"h1\\\", null, \\\"Hello, world!\\\");\\n\"}]}],\"\\n\",[\"$\",\"p\",\"36\",{\"children\":[\"前者と後者の実行結果は同じで、JSXは\",[\"$\",\"code\",\"1\",{\"children\":\"React.createElement()\"}],\"の記述のシンタックスシュガーということになります。このJavaScriptの形式に変換された後のオブジェクトがReact要素となります。\"]}],\"\\n\",[\"$\",\"p\",\"38\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://wa3.i-3-i.info/word15703.html\",\"children\":\"シンタックスシュガー（英：syntax sugar）とは｜「分かりそう」で「分からない」でも「分かった」気になれるIT用語辞典\"}]}],\"\\n\",[\"$\",\"h3\",\"40\",{\"children\":\"② createRoot().renderメソッドでReact要素をHTMLに挿入\"}],\"\\n\",[\"$\",\"p\",\"42\",{\"children\":\"あとは簡単で、React要素に変換したJavaScriptオブジェクトを材料に、createRoot().renderメソッドで対象箇所にHTMLを挿入します。\"}],\"\\n\",[\"$\",\"pre\",\"44\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cdiv id=\\\"app\\\"\u003e\u003c/div\u003e\\n\"}]}],\"\\n\",[\"$\",\"pre\",\"46\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// HTMLを挿入するルートを特定\\nconst root = createRoot(document.getElementById('app'));\\n// renderメソッドを使ってReact要素をルートに挿入\\nroot.render(React.createElement(\\\"h1\\\", null, \\\"Hello, world!\\\"));\\n\"}]}],\"\\n\",[\"$\",\"p\",\"48\",{\"children\":\"初めは下記のようにrenderメソッドの引数に直接JSX構文を書いていましたが、上記のコードでも下記でも実行結果は同じです。\"}],\"\\n\",[\"$\",\"pre\",\"50\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"const root = createRoot(document.getElementById('app'));\\nroot.render(\u003ch1\u003eHello, world!\u003c/h1\u003e);\\n\"}]}],\"\\n\",[\"$\",\"p\",\"52\",{\"children\":[\"内部的に、\",[\"$\",\"code\",\"1\",{\"children\":\"\u003ch1\u003eHello, world!\u003c/h1\u003e\"}],\"というJSX構文を\",[\"$\",\"code\",\"3\",{\"children\":\"React.createElement()\"}],\"に変換していた訳です。\"]}],\"\\n\",[\"$\",\"h3\",\"54\",{\"children\":\"補足\"}],\"\\n\",[\"$\",\"p\",\"56\",{\"children\":[\"ちなみに、\",[\"$\",\"code\",\"1\",{\"children\":\"React.createElement()\"}],\"の戻り値をコンソールで確認すると、下記のようなオブジェクトを確認できます。\"]}],\"\\n\",[\"$\",\"pre\",\"58\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"▼object\\n$$typeof: Symbol(react.element)\\nkey: null\\nprops: {children: 'Hello, world!'}\\nref: null\\ntype: \\\"h1\\\"\\n_owner: null\\n\"}]}],\"\\n\",[\"$\",\"p\",\"60\",{\"children\":[[\"$\",\"code\",\"0\",{\"children\":\"React.createElement()\"}],\"の3つの引数が代入されていて...\"]}],\"\\n\",[\"$\",\"ul\",\"62\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":[[\"$\",\"code\",\"0\",{\"children\":\"React.createElement()\"}],\"の第一引数が\",[\"$\",\"code\",\"2\",{\"children\":\"type\"}],\"（HTMLタグ）\"]}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":[[\"$\",\"code\",\"0\",{\"children\":\"React.createElement()\"}],\"の第二引数が\",[\"$\",\"code\",\"2\",{\"children\":\"props\"}],\"（属性値）\"]}],\"\\n\",[\"$\",\"li\",\"5\",{\"children\":[[\"$\",\"code\",\"0\",{\"children\":\"React.createElement()\"}],\"の第三引数が\",[\"$\",\"code\",\"2\",{\"children\":\"props.children\"}],\"（コンポーネントの子要素）\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"64\",{\"children\":\"といった形で割り当てられて、このオブジェクトを使ってHTMLタグを作って挿入しているイメージになります。\"}],\"\\n\",[\"$\",\"p\",\"66\",{\"children\":[\"余談ですが、こうして一つひとつ理解していくとJSXは結局ただのJavaScriptのオブジェクトだという事が分かります。JSX構文と\",[\"$\",\"code\",\"1\",{\"children\":\"React.createElement()\"}],\"は書き方が違うだけで機能的には同じで、\",[\"$\",\"code\",\"3\",{\"children\":\"React.createElement()\"}],\"が返すのは普通のJavaScriptなので、JSXは色々変換された結果、最終的にはJavaScriptのオブジェクトとなります。\"]}],\"\\n\",[\"$\",\"h2\",\"68\",{\"children\":\"【実践！】実際にJSXがレンダリングされるまでの流れを最小限の構成で試してみる\"}],\"\\n\",[\"$\",\"p\",\"70\",{\"children\":\"下記が今回の最小限の構成です。\"}],\"\\n\",[\"$\",\"pre\",\"72\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"dist/\\n├── assets/\\n└── index.html\\nsrc/\\n├── index.html\\n└── main.js\\nbabel.config.json\\npackage.json\\nvite.config.js\\n\"}]}],\"\\n\",[\"$\",\"p\",\"74\",{\"children\":\"扱っている環境やツールは下記の通り。\"}],\"\\n\",[\"$\",\"ul\",\"76\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":\"vite（reactファイルのバンドルのためだけに使用）\"}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":\"babel（JSXからReact要素へのコンパイルのために使用）\"}],\"\\n\",[\"$\",\"li\",\"5\",{\"children\":\"yarn（パッケージマネージャー、もちろんnpmでもOK）\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"78\",{\"children\":\"学習のためにこのような環境にしましたが、普通はNext.jsやRemix等のReactセットアップコマンドやViteのReactテンプレートのセットアップコマンドを叩けば簡単にReactを試せます。\"}],\"\\n\",[\"$\",\"ul\",\"80\",{\"children\":[\"\\n\",[\"$\",\"li\",\"1\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://ja.react.dev/learn/start-a-new-react-project\",\"children\":\"React プロジェクトを始める\"}]}],\"\\n\",[\"$\",\"li\",\"3\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://ja.vitejs.dev/guide/\",\"children\":\"Viteガイド はじめに\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"82\",{\"children\":\"1/2｜Viteでバンドルするための環境を整える\"}],\"\\n\",[\"$\",\"p\",\"84\",{\"children\":[\"Reactテンプレートのセットアップコマンド（\",[\"$\",\"code\",\"1\",{\"children\":\"yarn create vite my-vue-app --template react\"}],\"）を使うと、.jsx の拡張子にJSX構文を書けば、仕組みが分からずとも勝手にレンダリングされてしまうので、下記のようにVanillaを選択してフラットな環境にします。\"]}],\"\\n\",[\"$\",\"pre\",\"86\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"yarn create vite\\n# Select a framework:\\n# Vanillaを選択\\n# Select a variant:\\n# JavaScriptを選択\\ncd vite-project\\n\"}]}],\"\\n\",[\"$\",\"p\",\"88\",{\"children\":\"説明に不要なファイルは省きますが、下記のような構成になります。\"}],\"\\n\",[\"$\",\"pre\",\"90\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"vite-project/\\n├── counter.js\\n├── index.html\\n├── main.js\\n└── package.json\\n\"}]}],\"\\n\",[\"$\",\"p\",\"92\",{\"children\":[\"これで\",[\"$\",\"code\",\"1\",{\"children\":\"yarn build\"}],\"を叩けば、\",[\"$\",\"code\",\"3\",{\"children\":\"index.html\"}],\"をエントリーポイントにして\",[\"$\",\"code\",\"5\",{\"children\":\"main.js\"}],\"のバンドルもした上でプロジェクトルートに\",[\"$\",\"code\",\"7\",{\"children\":\"dist\"}],\"が吐き出されます。\"]}],\"\\n\",[\"$\",\"h3\",\"94\",{\"children\":\"2/2｜JSX構文をReact要素に変換するためのbabel環境を整える\"}],\"\\n\",[\"$\",\"p\",\"96\",{\"children\":\"babelの最小限のセットアップ方法は公式ガイドを参照すれば理解できます。\"}],\"\\n\",[\"$\",\"p\",\"98\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://babeljs.io/docs/\",\"children\":\"What is Babel?｜BABEL\"}]}],\"\\n\",[\"$\",\"pre\",\"100\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash\",\"children\":\"# 必要なパッケージをインストール\\nyarn add --dev @babel/core @babel/cli @babel/preset-react\\n\"}]}],\"\\n\",[\"$\",\"pre\",\"102\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-json\",\"children\":\"// babel.config.json\\n// babelの設定ファイルをプロジェクトルートに設置\\n{\\n  \\\"presets\\\": [\\n    \\\"@babel/preset-react\\\"\\n  ]\\n}\\n\"}]}],\"\\n\",[\"$\",\"pre\",\"104\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-json\",\"children\":\"// package.json\\n// package.jsonのscripts.buildにviteも含めたコマンドを設定\\n{\\n  \\\"scripts\\\": {\\n    \\\"dev\\\": \\\"vite\\\",\\n    \\\"build\\\": \\\"./node_modules/.bin/babel ./src/main.js --out-file ./src/main.babel.js \u0026\u0026 vite build\\\",\\n    \\\"preview\\\": \\\"vite preview\\\"\\n  },\\n  \\\"devDependencies\\\": {\\n    \\\"@babel/cli\\\": \\\"^7.24.8\\\",\\n    \\\"@babel/core\\\": \\\"^7.25.2\\\",\\n    \\\"@babel/preset-env\\\": \\\"^7.25.3\\\",\\n    \\\"@babel/preset-react\\\": \\\"^7.24.7\\\",\\n    \\\"vite\\\": \\\"^5.4.0\\\"\\n  },\\n  \\\"dependencies\\\": {\\n    \\\"react\\\": \\\"^18.3.1\\\",\\n    \\\"react-dom\\\": \\\"^18.3.1\\\"\\n  }\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",\"106\",{\"children\":[[\"$\",\"code\",\"0\",{\"children\":\"./node_modules/.bin/babel ./src/main.js --out-file ./src/main.babel.js\"}],\"の記述が、babelを使って\",[\"$\",\"code\",\"2\",{\"children\":\"./src/main.js\"}],\"を\",[\"$\",\"code\",\"4\",{\"children\":\"./src/main.babel.js\"}],\"に吐き出すコマンドになります。\"]}],\"\\n\",[\"$\",\"p\",\"108\",{\"children\":[\"babel実行前の\",[\"$\",\"code\",\"1\",{\"children\":\"./src/main.js\"}],\"と実行後の\",[\"$\",\"code\",\"3\",{\"children\":\"./src/main.babel.js\"}],\"は下記の通り。\"]}],\"\\n\",[\"$\",\"pre\",\"110\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// ./src/main.js\\nimport './style.css'\\nimport ReactDOM from 'react-dom';\\nimport React from 'react';\\nimport { createRoot } from 'react-dom/client';\\n\\nconst root = createRoot(document.getElementById('app'));\\nroot.render(\u003ch1\u003eHello\u003c/h1\u003e);\\n\"}]}],\"\\n\",[\"$\",\"pre\",\"112\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript\",\"children\":\"// ./src/main.babel.js\\nimport './style.css';\\nimport ReactDOM from 'react-dom';\\nimport React from 'react';\\nimport { createRoot } from 'react-dom/client';\\nconst root = createRoot(document.getElementById('app'));\\nroot.render( /*#__PURE__*/React.createElement(\\\"h1\\\", null, \\\"Hello\\\"));\\n\"}]}],\"\\n\",[\"$\",\"p\",\"114\",{\"children\":[[\"$\",\"code\",\"0\",{\"children\":\"root.render()\"}],\"の引数が\",[\"$\",\"code\",\"2\",{\"children\":\"\u003ch1\u003eHello\u003c/h1\u003e\"}],\"のJSX構文から\",[\"$\",\"code\",\"4\",{\"children\":\"React.createElement(\\\"h1\\\", null, \\\"Hello\\\")\"}],\"のReact要素に変換されているのが分かります。\"]}],\"\\n\",[\"$\",\"p\",\"116\",{\"children\":[\"あとは、後続の\",[\"$\",\"code\",\"1\",{\"children\":\"vite build\"}],\"コマンドによって、\",[\"$\",\"code\",\"3\",{\"children\":\"src/index.html\"}],\"で挿入している\",[\"$\",\"code\",\"5\",{\"children\":\"\u003cscript src=\\\"./main.babel.js\\\" type=\\\"module\\\"\u003e\u003c/script\u003e\"}],\"を読んで、\",[\"$\",\"code\",\"7\",{\"children\":\"main.babel.js\"}],\"のインポートされているパッケージを全てバンドルしてくれます。\"]}],\"\\n\",[\"$\",\"pre\",\"118\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003c!-- src/index.html --\u003e\\n\u003c!doctype html\u003e\\n\u003chtml lang=\\\"en\\\"\u003e\\n  \u003chead\u003e\\n    \u003cmeta charset=\\\"UTF-8\\\" /\u003e\\n    \u003clink rel=\\\"icon\\\" type=\\\"image/svg+xml\\\" href=\\\"/vite.svg\\\" /\u003e\\n    \u003cmeta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" /\u003e\\n    \u003ctitle\u003eVite App\u003c/title\u003e\\n  \u003c/head\u003e\\n  \u003cbody\u003e\\n    \u003cdiv id=\\\"app\\\"\u003e\u003c/div\u003e\\n    \u003cscript src=\\\"./main.babel.js\\\" type=\\\"module\\\"\u003e\u003c/script\u003e\\n  \u003c/body\u003e\\n\u003c/html\u003e\\n\"}]}],\"\\n\",[\"$\",\"pre\",\"120\",{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003c!-- dist/index.html --\u003e\\n\u003c!doctype html\u003e\\n\u003chtml lang=\\\"en\\\"\u003e\\n  \u003chead\u003e\\n    \u003cmeta charset=\\\"UTF-8\\\" /\u003e\\n    \u003clink rel=\\\"icon\\\" type=\\\"image/svg+xml\\\" href=\\\"/vite.svg\\\" /\u003e\\n    \u003cmeta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" /\u003e\\n    \u003ctitle\u003eVite App\u003c/title\u003e\\n    \u003cscript type=\\\"module\\\" crossorigin src=\\\"./assets/index-CTqbuTW-.js\\\"\u003e\u003c/script\u003e\\n    \u003clink rel=\\\"stylesheet\\\" crossorigin href=\\\"./assets/index-BfibREyH.css\\\"\u003e\\n  \u003c/head\u003e\\n  \u003cbody\u003e\\n    \u003cdiv id=\\\"app\\\"\u003e\u003c!-- ./assets/index-CTqbuTW-.jsによって\u003ch1\u003eHello\u003c/h1\u003eが挿入される --\u003e\u003c/div\u003e\\n  \u003c/body\u003e\\n\u003c/html\u003e\\n\"}]}],\"\\n\"]}]}],[\"$\",\"nav\",null,{\"className\":\"BlogTemplate_nav__4DMiI\",\"children\":\"$L2a\"}]]}]}]]\n"])</script><script>self.__next_f.push([1,"2a:[\"$\",\"div\",null,{\"className\":\"BlogSidebar_root__uw15U\",\"children\":[[\"$\",\"div\",null,{\"className\":\"BlogSidebar_pickup__vOFcW\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"Heading_root__8C_HZ Heading_border__cET98 Heading_small__z92ds __className_6bdb93\",\"children\":\"Pickup Contents.\"}],[\"$\",\"div\",null,{\"className\":\"PickupArticles_rootInline__zSCZ9\",\"children\":[[\"$\",\"$L20\",\"learning-react-how-work-001\",{\"href\":\"/blog/learning-react-how-work-001\",\"children\":\"React学習:仕組み編｜JSXがレンダリングされるまで〜最小限の構成で仕組み理解（なんとなく理解禁止シリーズ）\"}],false,false,false]}]]}],[\"$\",\"div\",null,{\"className\":\"BlogSidebar_categorys__HAy9v\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"Heading_root__8C_HZ Heading_border__cET98 Heading_small__z92ds __className_6bdb93\",\"children\":\"Categorys.\"}],\"$L2b\"]}]]}]\n"])</script><script>self.__next_f.push([1,"2b:[\"$\",\"ul\",null,{\"className\":\"CategoryLinks_root__f8qHI\",\"children\":[[\"$\",\"li\",\"learning-react\",{\"className\":\"$undefined\",\"children\":[\"$\",\"$L20\",null,{\"href\":\"/blog/blog-category/learning-react\",\"children\":\"React学習記録｜なんとなく理解禁止シリーズ\"}]}],[\"$\",\"li\",\"thoughts-work\",{\"className\":\"$undefined\",\"children\":[\"$\",\"$L20\",null,{\"href\":\"/blog/blog-category/thoughts-work\",\"children\":\"【備忘録】仕事と向き合う\"}]}],[\"$\",\"li\",\"learning-webgl\",{\"className\":\"$undefined\",\"children\":[\"$\",\"$L20\",null,{\"href\":\"/blog/blog-category/learning-webgl\",\"children\":\"WebGL研究\"}]}],[\"$\",\"li\",\"learning-javascript\",{\"className\":\"$undefined\",\"children\":[\"$\",\"$L20\",null,{\"href\":\"/blog/blog-category/learning-javascript\",\"children\":\"JavaScript学習記録｜なんとなく理解禁止シリーズ\"}]}]]}]\n"])</script></body></html>